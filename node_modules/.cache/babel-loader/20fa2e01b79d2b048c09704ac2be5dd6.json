{"ast":null,"code":"// import React, {useState} from \"react\";\n// // import { MDBContainer, MDBTypography } from \"mdb-react-ui-kit\";\n// import {MDBValidation, MDBInput, MDBBtn} from \"mdb-react-ui-kit\";\n// import { useNavigate, useParams } from \"react-router-dom\";\n// import axios from 'axios';\n// import {toast} from \"react-toastify\"\n// import { useEffect } from \"react/cjs/react.development\";\n// //xqvmv0yi\n// const initialState = {\n// likes: \"\",\n// comments: \"\",\n// authorname: \"\",\n// likes: \"\",\n// title: \"\",\n// description: \"\",\n// category: \"\",\n// imageUrl: \"\"\n// }\n// const options = ['Travel', \"Fashion\", \"Fitness\", \"Sports\", \"Food\", \"Tech\"]\n// const AddEditBlog = () => {\n//     const [formValue, setFormValue] = useState(initialState);\n//     const [categoryErrMsg, setCategoryErrMsg] = useState(null);\n//     const {authorname, title, description, likes, comments, category, imageUrl} = formValue; \n//     const [editMode, setEditMode] = useState(false);\n//     const navigate = useNavigate();\n//     const { id } = useParams();\n//   useEffect(() => {\n//     if (id) {\n//       setEditMode(true);\n//       getSingleBlog(id);\n//     } else {\n//       setEditMode(false);\n//       setFormValue({ ...initialState });\n//     }\n//   }, [id]);\n//   const getSingleBlog = async (id) => {\n//     const singleBlog = await axios.get(`http://localhost:5000/blogs/${id}`);\n//     if (singleBlog.status === 200) {\n//       setFormValue({ ...singleBlog.data });\n//     } else {\n//       toast.error(\"Something went wrong\");\n//     }\n//   };\n//     const getDate = () => {\n//         let today = new Date();\n//         let dd = String(today.getDate()).padStart(2, \"0\");\n//         let mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n//         let yyyy = today.getFullYear();\n//         today = mm + \"/\" + dd + \"/\" + yyyy;\n//         return today;\n//       };\n//       const handleSubmit = async (e) => {\n//         e.preventDefault();\n//         if (!category) {\n//           setCategoryErrMsg(\"Please select a category\");\n//         }\n//         const imageValidation = !editMode ? imageUrl : true;\n//         if (authorname && title && description && imageUrl && category && likes && comments) {\n//           const currentDate = getDate();\n//           if(!editMode){\n//             const updatedBlogData = { ...formValue, date: currentDate };\n//             const response = await axios.post(\n//                 \"http://localhost:5000/blogs\",\n//                 updatedBlogData\n//               );\n//               if (response.status === 201) {\n//                 toast.success(\"Blog Created Successfully\");\n//               } else {\n//                 toast.error(\"Something went wrong\");\n//               }\n//           }\n//             else{\n//                 const response = await axios.put(\n//                     `http://localhost:5000/blogs/${id}`,\n//                     formValue\n//                   );\n//                   if (response.status === 200) {\n//                     toast.success(\"Blog Updated Successfully\");\n//                   } else {\n//                     toast.error(\"Something went wrong\");\n//                   }\n//             }\n//           setFormValue({ authorname: \"\", title: \"\", description: \"\", likes: \"\", comments: \"\", category: \"\", imageUrl: \"\" });\n//           navigate(\"/\");\n//         }\n//       };\n//     const onInputChange = (e) => {\n//         let { name, value } = e.target;\n//         setFormValue({ ...formValue, [name]: value });\n//     };\n//     const onUploadImage = (file) => {\n//         const formData = new FormData();\n//         formData.append(\"file\", file);\n//         formData.append(\"upload_preset\", \"xqvmv0yi\");\n//         axios\n//         .post(\"http://api.cloudinary.com/v1_1/ddy1g5aim/image/upload\", formData)\n//         .then((resp) => {\n//           toast.info(\"Image Uploaded Successfully\");\n//           setFormValue({ ...formValue, imageUrl: resp.data.url });\n//         })\n//         .catch((err) => {\n//           toast.error(\"Something went wrong\");\n//         });\n//     };\n//     const onCategoryChange = (e) => {\n//         setCategoryErrMsg(null);\n//         setFormValue({ ...formValue, category: e.target.value });\n//       };\n//   return (\n//     // <div style={{ marginTop: \"100px\" }}>\n//     //   {/* <MDBContainer>\n//     //     <MDBTypography note noteColor=\"primary\">\n//     //       It is blogging website where you will find blog post related to\n//     //       different category like Travel, Food, Sports Fitness, Tech and Fashion\n//     //     </MDBTypography>\n//     //   </MDBContainer> */}\n//     //   <h2>Add Edit</h2>\n//     // </div>\n//     <MDBValidation className= \"row g-3\" style = {{marginTop: '100px'}} noValidate onSubmit={handleSubmit}>\n//          <p className=\"fs-2 fw-bold\">{editMode ? \"Update Blog\" : \"Add Blog\"}</p>\n//         <div\n//         style={{\n//           margin: \"auto\",\n//           padding: \"15px\",\n//           maxWidth: \"400px\",\n//           alignContent: \"center\",\n//         }}\n//       >\n//                   <MDBInput\n//           value={authorname || \"\"}\n//           name=\"authorname\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Author Name\"\n//           validation=\"Please provide an Author Name\"\n//           invalid\n//         />\n//         <br/>\n//            <MDBInput\n//           value={title || \"\"}\n//           name=\"title\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Title\"\n//           validation=\"Please provide a title\"\n//           invalid\n//         />\n//         <br/>\n//           <MDBInput\n//           value={likes || \"\"}\n//           name=\"likes\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Number of Likes\"\n//           validation=\"Please Enter the number of likes\"\n//           invalid\n//         />\n//         <br/>\n//          <MDBInput\n//           value={comments || \"\"}\n//           name=\"comments\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Comments\"\n//           validation=\"Please Enter the number of comments recieved\"\n//           invalid\n//         />\n//          <br />\n//          <MDBInput\n//           value={description || \"\"}\n//           name=\"description\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Description\"\n//           validation=\"Please provide a description\"\n//           textarea\n//           rows={4}\n//           invalid\n//         />\n//         <br />\n//         {!editMode && (\n//           <>\n//             <MDBInput\n//               type=\"file\"\n//               onChange={(e) => onUploadImage(e.target.files[0])}\n//               required\n//               validation=\"Please provide a title\"\n//               invalid\n//             />\n//             <br />\n//           </>\n//         )}\n//              <select\n//           className=\"categoryDropdown\"\n//           onChange={onCategoryChange}\n//           value={category}\n//         >\n//           <option>Please select category</option>\n//           {options.map((option, index) => (\n//             <option value={option || \"\"} key={index}>\n//               {option}\n//             </option>\n//           ))}\n//         </select>\n//         {categoryErrMsg && (\n//           <div className=\"categoryErrorMsg\">{categoryErrMsg}</div>\n//         )}\n//         <br />\n//         <br />\n//         <MDBBtn type=\"submit\" style={{ marginRight: \"10px\" }}>\n//           {editMode ? \"Update\" : \"Add\"}\n//         </MDBBtn>\n//         <MDBBtn\n//           color=\"danger\"\n//           style={{ marginRight: \"10px\" }}\n//           onClick={() => navigate(\"/\")}\n//         >\n//           Go Back\n//         </MDBBtn>\n//       </div>\n//         </MDBValidation>\n//   );\n// };\n// export default AddEditBlog;","map":{"version":3,"sources":["/Users/debarishidevnath/blog react app/react-json-blog/src/pages/AddEditBlog.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import React, {useState} from \"react\";\n// // import { MDBContainer, MDBTypography } from \"mdb-react-ui-kit\";\n// import {MDBValidation, MDBInput, MDBBtn} from \"mdb-react-ui-kit\";\n// import { useNavigate, useParams } from \"react-router-dom\";\n// import axios from 'axios';\n// import {toast} from \"react-toastify\"\n// import { useEffect } from \"react/cjs/react.development\";\n\n// //xqvmv0yi\n\n// const initialState = {\n// likes: \"\",\n// comments: \"\",\n// authorname: \"\",\n// likes: \"\",\n// title: \"\",\n// description: \"\",\n// category: \"\",\n// imageUrl: \"\"\n// }\n\n// const options = ['Travel', \"Fashion\", \"Fitness\", \"Sports\", \"Food\", \"Tech\"]\n// const AddEditBlog = () => {\n//     const [formValue, setFormValue] = useState(initialState);\n//     const [categoryErrMsg, setCategoryErrMsg] = useState(null);\n//     const {authorname, title, description, likes, comments, category, imageUrl} = formValue; \n//     const [editMode, setEditMode] = useState(false);\n    \n//     const navigate = useNavigate();\n\n//     const { id } = useParams();\n\n//   useEffect(() => {\n//     if (id) {\n//       setEditMode(true);\n//       getSingleBlog(id);\n//     } else {\n//       setEditMode(false);\n//       setFormValue({ ...initialState });\n//     }\n//   }, [id]);\n\n//   const getSingleBlog = async (id) => {\n//     const singleBlog = await axios.get(`http://localhost:5000/blogs/${id}`);\n//     if (singleBlog.status === 200) {\n//       setFormValue({ ...singleBlog.data });\n//     } else {\n//       toast.error(\"Something went wrong\");\n//     }\n//   };\n    \n//     const getDate = () => {\n//         let today = new Date();\n//         let dd = String(today.getDate()).padStart(2, \"0\");\n//         let mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n//         let yyyy = today.getFullYear();\n    \n//         today = mm + \"/\" + dd + \"/\" + yyyy;\n//         return today;\n//       };\n//       const handleSubmit = async (e) => {\n//         e.preventDefault();\n//         if (!category) {\n//           setCategoryErrMsg(\"Please select a category\");\n//         }\n//         const imageValidation = !editMode ? imageUrl : true;\n//         if (authorname && title && description && imageUrl && category && likes && comments) {\n//           const currentDate = getDate();\n//           if(!editMode){\n//             const updatedBlogData = { ...formValue, date: currentDate };\n//             const response = await axios.post(\n//                 \"http://localhost:5000/blogs\",\n//                 updatedBlogData\n//               );\n//               if (response.status === 201) {\n//                 toast.success(\"Blog Created Successfully\");\n//               } else {\n//                 toast.error(\"Something went wrong\");\n//               }\n             \n//           }\n//             else{\n//                 const response = await axios.put(\n//                     `http://localhost:5000/blogs/${id}`,\n//                     formValue\n//                   );\n//                   if (response.status === 200) {\n//                     toast.success(\"Blog Updated Successfully\");\n//                   } else {\n//                     toast.error(\"Something went wrong\");\n//                   }\n//             }\n         \n    \n//           setFormValue({ authorname: \"\", title: \"\", description: \"\", likes: \"\", comments: \"\", category: \"\", imageUrl: \"\" });\n//           navigate(\"/\");\n//         }\n//       };\n//     const onInputChange = (e) => {\n//         let { name, value } = e.target;\n//         setFormValue({ ...formValue, [name]: value });\n//     };\n//     const onUploadImage = (file) => {\n//         const formData = new FormData();\n//         formData.append(\"file\", file);\n//         formData.append(\"upload_preset\", \"xqvmv0yi\");\n//         axios\n//         .post(\"http://api.cloudinary.com/v1_1/ddy1g5aim/image/upload\", formData)\n//         .then((resp) => {\n//           toast.info(\"Image Uploaded Successfully\");\n//           setFormValue({ ...formValue, imageUrl: resp.data.url });\n//         })\n//         .catch((err) => {\n//           toast.error(\"Something went wrong\");\n//         });\n//     };\n//     const onCategoryChange = (e) => {\n//         setCategoryErrMsg(null);\n//         setFormValue({ ...formValue, category: e.target.value });\n//       };\n\n//   return (\n//     // <div style={{ marginTop: \"100px\" }}>\n//     //   {/* <MDBContainer>\n//     //     <MDBTypography note noteColor=\"primary\">\n//     //       It is blogging website where you will find blog post related to\n//     //       different category like Travel, Food, Sports Fitness, Tech and Fashion\n//     //     </MDBTypography>\n//     //   </MDBContainer> */}\n//     //   <h2>Add Edit</h2>\n//     // </div>\n//     <MDBValidation className= \"row g-3\" style = {{marginTop: '100px'}} noValidate onSubmit={handleSubmit}>\n//          <p className=\"fs-2 fw-bold\">{editMode ? \"Update Blog\" : \"Add Blog\"}</p>\n//         <div\n//         style={{\n//           margin: \"auto\",\n//           padding: \"15px\",\n//           maxWidth: \"400px\",\n//           alignContent: \"center\",\n//         }}\n//       >\n//                   <MDBInput\n//           value={authorname || \"\"}\n//           name=\"authorname\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Author Name\"\n//           validation=\"Please provide an Author Name\"\n//           invalid\n//         />\n//         <br/>\n//            <MDBInput\n//           value={title || \"\"}\n//           name=\"title\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Title\"\n//           validation=\"Please provide a title\"\n//           invalid\n//         />\n//         <br/>\n//           <MDBInput\n//           value={likes || \"\"}\n//           name=\"likes\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Number of Likes\"\n//           validation=\"Please Enter the number of likes\"\n//           invalid\n//         />\n//         <br/>\n//          <MDBInput\n//           value={comments || \"\"}\n//           name=\"comments\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Comments\"\n//           validation=\"Please Enter the number of comments recieved\"\n//           invalid\n//         />\n//          <br />\n//          <MDBInput\n//           value={description || \"\"}\n//           name=\"description\"\n//           type=\"text\"\n//           onChange={onInputChange}\n//           required\n//           label=\"Description\"\n//           validation=\"Please provide a description\"\n//           textarea\n//           rows={4}\n//           invalid\n//         />\n//         <br />\n//         {!editMode && (\n//           <>\n//             <MDBInput\n//               type=\"file\"\n//               onChange={(e) => onUploadImage(e.target.files[0])}\n//               required\n//               validation=\"Please provide a title\"\n//               invalid\n//             />\n//             <br />\n//           </>\n//         )}\n//              <select\n//           className=\"categoryDropdown\"\n//           onChange={onCategoryChange}\n//           value={category}\n//         >\n//           <option>Please select category</option>\n//           {options.map((option, index) => (\n//             <option value={option || \"\"} key={index}>\n//               {option}\n//             </option>\n//           ))}\n//         </select>\n//         {categoryErrMsg && (\n//           <div className=\"categoryErrorMsg\">{categoryErrMsg}</div>\n//         )}\n//         <br />\n//         <br />\n//         <MDBBtn type=\"submit\" style={{ marginRight: \"10px\" }}>\n//           {editMode ? \"Update\" : \"Add\"}\n//         </MDBBtn>\n//         <MDBBtn\n//           color=\"danger\"\n//           style={{ marginRight: \"10px\" }}\n//           onClick={() => navigate(\"/\")}\n//         >\n//           Go Back\n//         </MDBBtn>\n//       </div>\n//         </MDBValidation>\n//   );\n// };\n\n// export default AddEditBlog;"]},"metadata":{},"sourceType":"module"}