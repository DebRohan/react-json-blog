{"ast":null,"code":"var _jsxFileName = \"/Users/debarishidevnath/blog react app/react-json-blog/src/pages/HomePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { MDBRow, MDBCol, MDBContainer, MDBTypography } from \"mdb-react-ui-kit\";\nimport { toast } from \"react-toastify\";\nimport Blogs from \"../components/Blogs\"; // import Search from \"../components/Search\";\n// import Category from \"../components/Category\";\n// import LatestBlog from \"../components/LatestBlog\";\n// import Pagination from \"../components/Pagination\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  const [data, setData] = useState([]); //   const [latestBlog, setLatestBlog] = useState([]);\n  //   const [searchValue, setSearchValue] = useState(\"\");\n  //   const [currentPage, setCurrentPage] = useState(0);\n  //   const [totalBlog, setTotalBlog] = useState(null);\n  //   const [pageLimit] = useState(5);\n\n  const options = [\"Travel\", \"Fashion\", \"Fitness\", \"Sports\", \"Food\", \"Tech\"];\n  useEffect(() => {\n    loadBlogsData(0, 5, 0); // fetchLatestBlog();\n  }, []);\n\n  const loadBlogsData = async (start, end, increase, operation) => {\n    // const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n    // setTotalBlog(totalBlog.data.length);\n    const response = await axios.get(`http://localhost:5000/blogs?_start=${start}&_end=${end}`);\n\n    if (response.status === 200) {\n      setData(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  }; //   const fetchLatestBlog = async () => {\n  //     const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n  //     const start = totalBlog.data.length - 4;\n  //     const end = totalBlog.data.length;\n  //     const response = await axios.get(\n  //       `http://localhost:5000/blogs?_start=${start}&_end=${end}`\n  //     );\n  //     if (response.status === 200) {\n  //       setLatestBlog(response.data);\n  //     } else {\n  //       toast.error(\"Something went wrong\");\n  //     }\n  //   };\n  //   console.log(\"data\", data);\n\n\n  const handleDelete = async id => {\n    if (window.confirm(\"Are you sure that you wanted to delete that blog ?\")) {\n      const response = await axios.delete(`http://localhost:5000/blogs/${id}`);\n\n      if (response.status === 200) {\n        toast.success(\"Blog Deleted Successfully\");\n        loadBlogsData(0, 5, 0, \"delete\");\n      } else {\n        toast.error(\"Something went wrong\");\n      }\n    }\n  };\n\n  const excerpt = str => {\n    if (str.length > 50) {\n      str = str.substring(0, 50) + \" ... \";\n    }\n\n    return str;\n  }; //   const onInputChange = (e) => {\n  //     if (!e.target.value) {\n  //       loadBlogsData(0, 5, 0);\n  //     }\n  //     setSearchValue(e.target.value);\n  //   };\n  //   const handleSearch = async (e) => {\n  //     e.preventDefault();\n  //     const response = await axios.get(\n  //       `http://localhost:5000/blogs?q=${searchValue}`\n  //     );\n  //     if (response.status === 200) {\n  //       setData(response.data);\n  //     } else {\n  //       toast.error(\"Something went wrong\");\n  //     }\n  //   };\n  //   const handleCategory = async (category) => {\n  //     const response = await axios.get(\n  //       `http://localhost:5000/blogs?category=${category}`\n  //     );\n  //     if (response.status === 200) {\n  //       setData(response.data);\n  //     } else {\n  //       toast.error(\"Something went wrong\");\n  //     }\n  //   };\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      searchValue: searchValue,\n      onInputChange: onInputChange,\n      handleSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n      children: [data.length === 0 && /*#__PURE__*/_jsxDEV(MDBTypography, {\n        className: \"text-center mb-0\",\n        tag: \"h2\",\n        children: \"No Blog Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n          children: /*#__PURE__*/_jsxDEV(MDBRow, {\n            children: data && data.map((item, index) => /*#__PURE__*/_jsxDEV(Blogs, { ...item,\n              excerpt: excerpt,\n              handleDelete: handleDelete\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        size: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(HomePage, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/debarishidevnath/blog react app/react-json-blog/src/pages/HomePage.js"],"names":["React","useState","useEffect","axios","MDBRow","MDBCol","MDBContainer","MDBTypography","toast","Blogs","HomePage","data","setData","options","loadBlogsData","start","end","increase","operation","response","get","status","error","handleDelete","id","window","confirm","delete","success","excerpt","str","length","substring","searchValue","onInputChange","handleSearch","map","item","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { MDBRow, MDBCol, MDBContainer, MDBTypography } from \"mdb-react-ui-kit\";\nimport { toast } from \"react-toastify\";\n import Blogs from \"../components/Blogs\";\n// import Search from \"../components/Search\";\n// import Category from \"../components/Category\";\n// import LatestBlog from \"../components/LatestBlog\";\n// import Pagination from \"../components/Pagination\";\n\nconst HomePage = () => {\n  const [data, setData] = useState([]);\n//   const [latestBlog, setLatestBlog] = useState([]);\n//   const [searchValue, setSearchValue] = useState(\"\");\n//   const [currentPage, setCurrentPage] = useState(0);\n//   const [totalBlog, setTotalBlog] = useState(null);\n//   const [pageLimit] = useState(5);\n\n  const options = [\"Travel\", \"Fashion\", \"Fitness\", \"Sports\", \"Food\", \"Tech\"];\n\n  useEffect(() => {\n    loadBlogsData(0, 5, 0);\n    // fetchLatestBlog();\n  }, []);\n\n  const loadBlogsData = async (start, end, increase, operation) => {\n    // const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n    // setTotalBlog(totalBlog.data.length);\n    const response = await axios.get(\n      `http://localhost:5000/blogs?_start=${start}&_end=${end}`\n    );\n    if (response.status === 200) {\n      setData(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n//   const fetchLatestBlog = async () => {\n//     const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n//     const start = totalBlog.data.length - 4;\n//     const end = totalBlog.data.length;\n//     const response = await axios.get(\n//       `http://localhost:5000/blogs?_start=${start}&_end=${end}`\n//     );\n//     if (response.status === 200) {\n//       setLatestBlog(response.data);\n//     } else {\n//       toast.error(\"Something went wrong\");\n//     }\n//   };\n\n//   console.log(\"data\", data);\n\n  const handleDelete = async (id) => {\n    if (window.confirm(\"Are you sure that you wanted to delete that blog ?\")) {\n      const response = await axios.delete(`http://localhost:5000/blogs/${id}`);\n      if (response.status === 200) {\n        toast.success(\"Blog Deleted Successfully\");\n        loadBlogsData(0, 5, 0, \"delete\");\n      } else {\n        toast.error(\"Something went wrong\");\n      }\n    }\n  };\n\n  const excerpt = (str) => {\n    if (str.length > 50) {\n      str = str.substring(0, 50) + \" ... \";\n    }\n    return str;\n  };\n\n//   const onInputChange = (e) => {\n//     if (!e.target.value) {\n//       loadBlogsData(0, 5, 0);\n//     }\n//     setSearchValue(e.target.value);\n//   };\n\n//   const handleSearch = async (e) => {\n//     e.preventDefault();\n//     const response = await axios.get(\n//       `http://localhost:5000/blogs?q=${searchValue}`\n//     );\n//     if (response.status === 200) {\n//       setData(response.data);\n//     } else {\n//       toast.error(\"Something went wrong\");\n//     }\n//   };\n\n//   const handleCategory = async (category) => {\n//     const response = await axios.get(\n//       `http://localhost:5000/blogs?category=${category}`\n//     );\n//     if (response.status === 200) {\n//       setData(response.data);\n//     } else {\n//       toast.error(\"Something went wrong\");\n//     }\n//   };\n\n\n  return (\n    <>\n      <Search\n        searchValue={searchValue}\n        onInputChange={onInputChange}\n        handleSearch={handleSearch}\n      />\n      <MDBRow>\n        {data.length === 0 && (\n          <MDBTypography className=\"text-center mb-0\" tag=\"h2\">\n            No Blog Found\n          </MDBTypography>\n        )}\n        <MDBCol>\n          <MDBContainer>\n            <MDBRow>\n              {data &&\n                data.map((item, index) => (\n                  <Blogs\n                    key={index}\n                    {...item}\n                    excerpt={excerpt}\n                    handleDelete={handleDelete}\n                  />\n                ))}\n            </MDBRow>\n          </MDBContainer>\n        </MDBCol>\n        <MDBCol size=\"3\">\n          {/* <h4 className=\"text-start\">Latest Post</h4>\n          {latestBlog &&\n            latestBlog.map((item, index) => (\n              <LatestBlog key={index} {...item} />\n            ))}\n          <Category options={options} handleCategory={handleCategory} /> */}\n        </MDBCol>\n      </MDBRow>\n      {/* <div className=\"mt-3\">\n        <Pagination\n          currentPage={currentPage}\n          loadBlogsData={loadBlogsData}\n          pageLimit={pageLimit}\n          data={data}\n          totalBlog={totalBlog}\n        />\n      </div> */}\n    </>\n  );\n};\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}