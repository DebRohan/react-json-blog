{"ast":null,"code":"var _jsxFileName = \"/Users/debarishidevnath/blog react app/react-json-blog/src/pages/HomePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { MDBRow, MDBCol, MDBContainer, MDBTypography } from \"mdb-react-ui-kit\";\nimport { toast } from \"react-toastify\"; // import Blogs from \"../components/Blogs\";\n// import Search from \"../components/Search\";\n// import Category from \"../components/Category\";\n// import LatestBlog from \"../components/LatestBlog\";\n// import Pagination from \"../components/Pagination\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  const [data, setData] = useState([]); //   const [latestBlog, setLatestBlog] = useState([]);\n  //   const [searchValue, setSearchValue] = useState(\"\");\n  //   const [currentPage, setCurrentPage] = useState(0);\n  //   const [totalBlog, setTotalBlog] = useState(null);\n  //   const [pageLimit] = useState(5);\n\n  const options = [\"Travel\", \"Fashion\", \"Fitness\", \"Sports\", \"Food\", \"Tech\"];\n  useEffect(() => {\n    loadBlogsData(0, 5, 0);\n    fetchLatestBlog();\n  }, []);\n\n  const loadBlogsData = async (start, end, increase, operation) => {\n    // const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n    // setTotalBlog(totalBlog.data.length);\n    const response = await axios.get(`http://localhost:5000/blogs?_start=${start}&_end=${end}`);\n\n    if (response.status === 200) {\n      setData(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  }; //   const fetchLatestBlog = async () => {\n  //     const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n  //     const start = totalBlog.data.length - 4;\n  //     const end = totalBlog.data.length;\n  //     const response = await axios.get(\n  //       `http://localhost:5000/blogs?_start=${start}&_end=${end}`\n  //     );\n  //     if (response.status === 200) {\n  //       setLatestBlog(response.data);\n  //     } else {\n  //       toast.error(\"Something went wrong\");\n  //     }\n  //   };\n  //   console.log(\"data\", data);\n  //   const handleDelete = async (id) => {\n  //     if (window.confirm(\"Are you sure that you wanted to delete that blog ?\")) {\n  //       const response = await axios.delete(`http://localhost:5000/blogs/${id}`);\n  //       if (response.status === 200) {\n  //         toast.success(\"Blog Deleted Successfully\");\n  //         loadBlogsData(0, 5, 0, \"delete\");\n  //       } else {\n  //         toast.error(\"Something went wrong\");\n  //       }\n  //     }\n  //   };\n  //   const excerpt = (str) => {\n  //     if (str.length > 50) {\n  //       str = str.substring(0, 50) + \" ... \";\n  //     }\n  //     return str;\n  //   };\n  //   const onInputChange = (e) => {\n  //     if (!e.target.value) {\n  //       loadBlogsData(0, 5, 0);\n  //     }\n  //     setSearchValue(e.target.value);\n  //   };\n  //   const handleSearch = async (e) => {\n  //     e.preventDefault();\n  //     const response = await axios.get(\n  //       `http://localhost:5000/blogs?q=${searchValue}`\n  //     );\n  //     if (response.status === 200) {\n  //       setData(response.data);\n  //     } else {\n  //       toast.error(\"Something went wrong\");\n  //     }\n  //   };\n  //   const handleCategory = async (category) => {\n  //     const response = await axios.get(\n  //       `http://localhost:5000/blogs?category=${category}`\n  //     );\n  //     if (response.status === 200) {\n  //       setData(response.data);\n  //     } else {\n  //       toast.error(\"Something went wrong\");\n  //     }\n  //   };\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      searchValue: searchValue,\n      onInputChange: onInputChange,\n      handleSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n      children: [data.length === 0 && /*#__PURE__*/_jsxDEV(MDBTypography, {\n        className: \"text-center mb-0\",\n        tag: \"h2\",\n        children: \"No Blog Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n          children: /*#__PURE__*/_jsxDEV(MDBRow, {\n            children: data && data.map((item, index) => /*#__PURE__*/_jsxDEV(Blogs, { ...item,\n              excerpt: excerpt,\n              handleDelete: handleDelete\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        size: \"3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-start\",\n          children: \"Latest Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), latestBlog && latestBlog.map((item, index) => /*#__PURE__*/_jsxDEV(LatestBlog, { ...item\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(Category, {\n          options: options,\n          handleCategory: handleCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        currentPage: currentPage,\n        loadBlogsData: loadBlogsData,\n        pageLimit: pageLimit,\n        data: data,\n        totalBlog: totalBlog\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(HomePage, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/debarishidevnath/blog react app/react-json-blog/src/pages/HomePage.js"],"names":["React","useState","useEffect","axios","MDBRow","MDBCol","MDBContainer","MDBTypography","toast","HomePage","data","setData","options","loadBlogsData","fetchLatestBlog","start","end","increase","operation","response","get","status","error","searchValue","onInputChange","handleSearch","length","map","item","index","excerpt","handleDelete","latestBlog","handleCategory","currentPage","pageLimit","totalBlog"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { MDBRow, MDBCol, MDBContainer, MDBTypography } from \"mdb-react-ui-kit\";\nimport { toast } from \"react-toastify\";\n// import Blogs from \"../components/Blogs\";\n// import Search from \"../components/Search\";\n// import Category from \"../components/Category\";\n// import LatestBlog from \"../components/LatestBlog\";\n// import Pagination from \"../components/Pagination\";\n\nconst HomePage = () => {\n  const [data, setData] = useState([]);\n//   const [latestBlog, setLatestBlog] = useState([]);\n//   const [searchValue, setSearchValue] = useState(\"\");\n//   const [currentPage, setCurrentPage] = useState(0);\n//   const [totalBlog, setTotalBlog] = useState(null);\n//   const [pageLimit] = useState(5);\n\n  const options = [\"Travel\", \"Fashion\", \"Fitness\", \"Sports\", \"Food\", \"Tech\"];\n\n  useEffect(() => {\n    loadBlogsData(0, 5, 0);\n    fetchLatestBlog();\n  }, []);\n\n  const loadBlogsData = async (start, end, increase, operation) => {\n    // const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n    // setTotalBlog(totalBlog.data.length);\n    const response = await axios.get(\n      `http://localhost:5000/blogs?_start=${start}&_end=${end}`\n    );\n    if (response.status === 200) {\n      setData(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n//   const fetchLatestBlog = async () => {\n//     const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n//     const start = totalBlog.data.length - 4;\n//     const end = totalBlog.data.length;\n//     const response = await axios.get(\n//       `http://localhost:5000/blogs?_start=${start}&_end=${end}`\n//     );\n//     if (response.status === 200) {\n//       setLatestBlog(response.data);\n//     } else {\n//       toast.error(\"Something went wrong\");\n//     }\n//   };\n\n//   console.log(\"data\", data);\n\n//   const handleDelete = async (id) => {\n//     if (window.confirm(\"Are you sure that you wanted to delete that blog ?\")) {\n//       const response = await axios.delete(`http://localhost:5000/blogs/${id}`);\n//       if (response.status === 200) {\n//         toast.success(\"Blog Deleted Successfully\");\n//         loadBlogsData(0, 5, 0, \"delete\");\n//       } else {\n//         toast.error(\"Something went wrong\");\n//       }\n//     }\n//   };\n\n//   const excerpt = (str) => {\n//     if (str.length > 50) {\n//       str = str.substring(0, 50) + \" ... \";\n//     }\n//     return str;\n//   };\n\n//   const onInputChange = (e) => {\n//     if (!e.target.value) {\n//       loadBlogsData(0, 5, 0);\n//     }\n//     setSearchValue(e.target.value);\n//   };\n\n//   const handleSearch = async (e) => {\n//     e.preventDefault();\n//     const response = await axios.get(\n//       `http://localhost:5000/blogs?q=${searchValue}`\n//     );\n//     if (response.status === 200) {\n//       setData(response.data);\n//     } else {\n//       toast.error(\"Something went wrong\");\n//     }\n//   };\n\n//   const handleCategory = async (category) => {\n//     const response = await axios.get(\n//       `http://localhost:5000/blogs?category=${category}`\n//     );\n//     if (response.status === 200) {\n//       setData(response.data);\n//     } else {\n//       toast.error(\"Something went wrong\");\n//     }\n//   };\n\n  return (\n    <>\n      <Search\n        searchValue={searchValue}\n        onInputChange={onInputChange}\n        handleSearch={handleSearch}\n      />\n      <MDBRow>\n        {data.length === 0 && (\n          <MDBTypography className=\"text-center mb-0\" tag=\"h2\">\n            No Blog Found\n          </MDBTypography>\n        )}\n        <MDBCol>\n          <MDBContainer>\n            <MDBRow>\n              {data &&\n                data.map((item, index) => (\n                  <Blogs\n                    key={index}\n                    {...item}\n                    excerpt={excerpt}\n                    handleDelete={handleDelete}\n                  />\n                ))}\n            </MDBRow>\n          </MDBContainer>\n        </MDBCol>\n        <MDBCol size=\"3\">\n          <h4 className=\"text-start\">Latest Post</h4>\n          {latestBlog &&\n            latestBlog.map((item, index) => (\n              <LatestBlog key={index} {...item} />\n            ))}\n          <Category options={options} handleCategory={handleCategory} />\n        </MDBCol>\n      </MDBRow>\n      <div className=\"mt-3\">\n        <Pagination\n          currentPage={currentPage}\n          loadBlogsData={loadBlogsData}\n          pageLimit={pageLimit}\n          data={data}\n          totalBlog={totalBlog}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}