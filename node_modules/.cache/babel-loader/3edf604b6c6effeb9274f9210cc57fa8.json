{"ast":null,"code":"var _jsxFileName = \"/Users/debarishidevnath/blog react app/react-json-blog/src/pages/HomePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { MDBRow, MDBCol, MDBContainer, MDBTypography } from \"mdb-react-ui-kit\";\nimport { toast } from \"react-toastify\"; // import Blogs from \"../components/Blogs\";\n// import Search from \"../components/Search\";\n// import Category from \"../components/Category\";\n// import LatestBlog from \"../components/LatestBlog\";\n// import Pagination from \"../components/Pagination\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  const [data, setData] = useState([]); //   const [latestBlog, setLatestBlog] = useState([]);\n  //   const [searchValue, setSearchValue] = useState(\"\");\n  //   const [currentPage, setCurrentPage] = useState(0);\n  //   const [totalBlog, setTotalBlog] = useState(null);\n  //   const [pageLimit] = useState(5);\n\n  const options = [\"Travel\", \"Fashion\", \"Fitness\", \"Sports\", \"Food\", \"Tech\"];\n  useEffect(() => {\n    loadBlogsData(0, 5, 0);\n    fetchLatestBlog();\n  }, []);\n\n  const loadBlogsData = async (start, end, increase, operation) => {\n    const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n    setTotalBlog(totalBlog.data.length);\n    const response = await axios.get(`http://localhost:5000/blogs?_start=${start}&_end=${end}`);\n\n    if (response.status === 200) {\n      setData(response.data);\n\n      if (operation) {\n        setCurrentPage(0);\n      } else {\n        setCurrentPage(currentPage + increase);\n      }\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  const fetchLatestBlog = async () => {\n    const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n    const start = totalBlog.data.length - 4;\n    const end = totalBlog.data.length;\n    const response = await axios.get(`http://localhost:5000/blogs?_start=${start}&_end=${end}`);\n\n    if (response.status === 200) {\n      setLatestBlog(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  console.log(\"data\", data);\n\n  const handleDelete = async id => {\n    if (window.confirm(\"Are you sure that you wanted to delete that blog ?\")) {\n      const response = await axios.delete(`http://localhost:5000/blogs/${id}`);\n\n      if (response.status === 200) {\n        toast.success(\"Blog Deleted Successfully\");\n        loadBlogsData(0, 5, 0, \"delete\");\n      } else {\n        toast.error(\"Something went wrong\");\n      }\n    }\n  };\n\n  const excerpt = str => {\n    if (str.length > 50) {\n      str = str.substring(0, 50) + \" ... \";\n    }\n\n    return str;\n  };\n\n  const onInputChange = e => {\n    if (!e.target.value) {\n      loadBlogsData(0, 5, 0);\n    }\n\n    setSearchValue(e.target.value);\n  };\n\n  const handleSearch = async e => {\n    e.preventDefault();\n    const response = await axios.get(`http://localhost:5000/blogs?q=${searchValue}`);\n\n    if (response.status === 200) {\n      setData(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  const handleCategory = async category => {\n    const response = await axios.get(`http://localhost:5000/blogs?category=${category}`);\n\n    if (response.status === 200) {\n      setData(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      searchValue: searchValue,\n      onInputChange: onInputChange,\n      handleSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n      children: [data.length === 0 && /*#__PURE__*/_jsxDEV(MDBTypography, {\n        className: \"text-center mb-0\",\n        tag: \"h2\",\n        children: \"No Blog Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n          children: /*#__PURE__*/_jsxDEV(MDBRow, {\n            children: data && data.map((item, index) => /*#__PURE__*/_jsxDEV(Blogs, { ...item,\n              excerpt: excerpt,\n              handleDelete: handleDelete\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n        size: \"3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-start\",\n          children: \"Latest Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), latestBlog && latestBlog.map((item, index) => /*#__PURE__*/_jsxDEV(LatestBlog, { ...item\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(Category, {\n          options: options,\n          handleCategory: handleCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        currentPage: currentPage,\n        loadBlogsData: loadBlogsData,\n        pageLimit: pageLimit,\n        data: data,\n        totalBlog: totalBlog\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(HomePage, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/debarishidevnath/blog react app/react-json-blog/src/pages/HomePage.js"],"names":["React","useState","useEffect","axios","MDBRow","MDBCol","MDBContainer","MDBTypography","toast","HomePage","data","setData","options","loadBlogsData","fetchLatestBlog","start","end","increase","operation","totalBlog","get","setTotalBlog","length","response","status","setCurrentPage","currentPage","error","setLatestBlog","console","log","handleDelete","id","window","confirm","delete","success","excerpt","str","substring","onInputChange","e","target","value","setSearchValue","handleSearch","preventDefault","searchValue","handleCategory","category","map","item","index","latestBlog","pageLimit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { MDBRow, MDBCol, MDBContainer, MDBTypography } from \"mdb-react-ui-kit\";\nimport { toast } from \"react-toastify\";\n// import Blogs from \"../components/Blogs\";\n// import Search from \"../components/Search\";\n// import Category from \"../components/Category\";\n// import LatestBlog from \"../components/LatestBlog\";\n// import Pagination from \"../components/Pagination\";\n\nconst HomePage = () => {\n  const [data, setData] = useState([]);\n//   const [latestBlog, setLatestBlog] = useState([]);\n//   const [searchValue, setSearchValue] = useState(\"\");\n//   const [currentPage, setCurrentPage] = useState(0);\n//   const [totalBlog, setTotalBlog] = useState(null);\n//   const [pageLimit] = useState(5);\n\n  const options = [\"Travel\", \"Fashion\", \"Fitness\", \"Sports\", \"Food\", \"Tech\"];\n\n  useEffect(() => {\n    loadBlogsData(0, 5, 0);\n    fetchLatestBlog();\n  }, []);\n\n  const loadBlogsData = async (start, end, increase, operation) => {\n    const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n    setTotalBlog(totalBlog.data.length);\n    const response = await axios.get(\n      `http://localhost:5000/blogs?_start=${start}&_end=${end}`\n    );\n    if (response.status === 200) {\n      setData(response.data);\n      if (operation) {\n        setCurrentPage(0);\n      } else {\n        setCurrentPage(currentPage + increase);\n      }\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  const fetchLatestBlog = async () => {\n    const totalBlog = await axios.get(\"http://localhost:5000/blogs\");\n    const start = totalBlog.data.length - 4;\n    const end = totalBlog.data.length;\n    const response = await axios.get(\n      `http://localhost:5000/blogs?_start=${start}&_end=${end}`\n    );\n    if (response.status === 200) {\n      setLatestBlog(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  console.log(\"data\", data);\n\n  const handleDelete = async (id) => {\n    if (window.confirm(\"Are you sure that you wanted to delete that blog ?\")) {\n      const response = await axios.delete(`http://localhost:5000/blogs/${id}`);\n      if (response.status === 200) {\n        toast.success(\"Blog Deleted Successfully\");\n        loadBlogsData(0, 5, 0, \"delete\");\n      } else {\n        toast.error(\"Something went wrong\");\n      }\n    }\n  };\n\n  const excerpt = (str) => {\n    if (str.length > 50) {\n      str = str.substring(0, 50) + \" ... \";\n    }\n    return str;\n  };\n\n  const onInputChange = (e) => {\n    if (!e.target.value) {\n      loadBlogsData(0, 5, 0);\n    }\n    setSearchValue(e.target.value);\n  };\n\n  const handleSearch = async (e) => {\n    e.preventDefault();\n    const response = await axios.get(\n      `http://localhost:5000/blogs?q=${searchValue}`\n    );\n    if (response.status === 200) {\n      setData(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  const handleCategory = async (category) => {\n    const response = await axios.get(\n      `http://localhost:5000/blogs?category=${category}`\n    );\n    if (response.status === 200) {\n      setData(response.data);\n    } else {\n      toast.error(\"Something went wrong\");\n    }\n  };\n\n  return (\n    <>\n      <Search\n        searchValue={searchValue}\n        onInputChange={onInputChange}\n        handleSearch={handleSearch}\n      />\n      <MDBRow>\n        {data.length === 0 && (\n          <MDBTypography className=\"text-center mb-0\" tag=\"h2\">\n            No Blog Found\n          </MDBTypography>\n        )}\n        <MDBCol>\n          <MDBContainer>\n            <MDBRow>\n              {data &&\n                data.map((item, index) => (\n                  <Blogs\n                    key={index}\n                    {...item}\n                    excerpt={excerpt}\n                    handleDelete={handleDelete}\n                  />\n                ))}\n            </MDBRow>\n          </MDBContainer>\n        </MDBCol>\n        <MDBCol size=\"3\">\n          <h4 className=\"text-start\">Latest Post</h4>\n          {latestBlog &&\n            latestBlog.map((item, index) => (\n              <LatestBlog key={index} {...item} />\n            ))}\n          <Category options={options} handleCategory={handleCategory} />\n        </MDBCol>\n      </MDBRow>\n      <div className=\"mt-3\">\n        <Pagination\n          currentPage={currentPage}\n          loadBlogsData={loadBlogsData}\n          pageLimit={pageLimit}\n          data={data}\n          totalBlog={totalBlog}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}